{"version":3,"sources":["../node_modules/zen-observable/lib/Observable.js","../node_modules/zen-observable/index.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","exports","value","Observable","hasSymbols","Symbol","hasSymbol","name","Boolean","getSymbol","observable","SymbolIterator","SymbolObservable","SymbolSpecies","getMethod","obj","getSpecies","ctor","constructor","undefined","isObservable","x","hostReportError","e","log","setTimeout","enqueue","fn","Promise","resolve","then","cleanupSubscription","subscription","cleanup","_cleanup","unsubscribe","call","closeSubscription","_observer","_queue","_state","notifySubscription","type","observer","m","onNotify","queue","flushSubscription","push","Subscription","subscriber","this","subscriptionObserver","SubscriptionObserver","error","get","_subscription","_subscriber","next","arguments","complete","_this","reject","subscribe","done","_this2","_this3","_this4","C","hasSeed","hasValue","seed","acc","first","_this5","_len","sources","Array","_key","index","startNext","v","from","_this6","subscriptions","outer","inner","indexOf","splice","completeIfDone","closed","forEach","s","method","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","_item","err","return","isArray","_len2","items","_key2","symbol","module"],"mappings":"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","file":"static/js/nm.zen-observable.f87504fe.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Observable = void 0;\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n} // === Symbol Support ===\n\n\nvar hasSymbols = function hasSymbols() {\n  return typeof Symbol === 'function';\n};\n\nvar hasSymbol = function hasSymbol(name) {\n  return hasSymbols() && Boolean(Symbol[name]);\n};\n\nvar getSymbol = function getSymbol(name) {\n  return hasSymbol(name) ? Symbol[name] : '@@' + name;\n};\n\nif (hasSymbols() && !hasSymbol('observable')) {\n  Symbol.observable = Symbol('observable');\n}\n\nvar SymbolIterator = getSymbol('iterator');\nvar SymbolObservable = getSymbol('observable');\nvar SymbolSpecies = getSymbol('species'); // === Abstract Operations ===\n\nfunction getMethod(obj, key) {\n  var value = obj[key];\n  if (value == null) return undefined;\n  if (typeof value !== 'function') throw new TypeError(value + ' is not a function');\n  return value;\n}\n\nfunction getSpecies(obj) {\n  var ctor = obj.constructor;\n\n  if (ctor !== undefined) {\n    ctor = ctor[SymbolSpecies];\n\n    if (ctor === null) {\n      ctor = undefined;\n    }\n  }\n\n  return ctor !== undefined ? ctor : Observable;\n}\n\nfunction isObservable(x) {\n  return x instanceof Observable; // SPEC: Brand check\n}\n\nfunction hostReportError(e) {\n  if (hostReportError.log) {\n    hostReportError.log(e);\n  } else {\n    setTimeout(function () {\n      throw e;\n    });\n  }\n}\n\nfunction enqueue(fn) {\n  Promise.resolve().then(function () {\n    try {\n      fn();\n    } catch (e) {\n      hostReportError(e);\n    }\n  });\n}\n\nfunction cleanupSubscription(subscription) {\n  var cleanup = subscription._cleanup;\n  if (cleanup === undefined) return;\n  subscription._cleanup = undefined;\n\n  if (!cleanup) {\n    return;\n  }\n\n  try {\n    if (typeof cleanup === 'function') {\n      cleanup();\n    } else {\n      var unsubscribe = getMethod(cleanup, 'unsubscribe');\n\n      if (unsubscribe) {\n        unsubscribe.call(cleanup);\n      }\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n}\n\nfunction closeSubscription(subscription) {\n  subscription._observer = undefined;\n  subscription._queue = undefined;\n  subscription._state = 'closed';\n}\n\nfunction flushSubscription(subscription) {\n  var queue = subscription._queue;\n\n  if (!queue) {\n    return;\n  }\n\n  subscription._queue = undefined;\n  subscription._state = 'ready';\n\n  for (var i = 0; i < queue.length; ++i) {\n    notifySubscription(subscription, queue[i].type, queue[i].value);\n    if (subscription._state === 'closed') break;\n  }\n}\n\nfunction notifySubscription(subscription, type, value) {\n  subscription._state = 'running';\n  var observer = subscription._observer;\n\n  try {\n    var m = getMethod(observer, type);\n\n    switch (type) {\n      case 'next':\n        if (m) m.call(observer, value);\n        break;\n\n      case 'error':\n        closeSubscription(subscription);\n        if (m) m.call(observer, value);else throw value;\n        break;\n\n      case 'complete':\n        closeSubscription(subscription);\n        if (m) m.call(observer);\n        break;\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n\n  if (subscription._state === 'closed') cleanupSubscription(subscription);else if (subscription._state === 'running') subscription._state = 'ready';\n}\n\nfunction onNotify(subscription, type, value) {\n  if (subscription._state === 'closed') return;\n\n  if (subscription._state === 'buffering') {\n    subscription._queue.push({\n      type: type,\n      value: value\n    });\n\n    return;\n  }\n\n  if (subscription._state !== 'ready') {\n    subscription._state = 'buffering';\n    subscription._queue = [{\n      type: type,\n      value: value\n    }];\n    enqueue(function () {\n      return flushSubscription(subscription);\n    });\n    return;\n  }\n\n  notifySubscription(subscription, type, value);\n}\n\nvar Subscription =\n/*#__PURE__*/\nfunction () {\n  function Subscription(observer, subscriber) {\n    _classCallCheck(this, Subscription); // ASSERT: observer is an object\n    // ASSERT: subscriber is callable\n\n\n    this._cleanup = undefined;\n    this._observer = observer;\n    this._queue = undefined;\n    this._state = 'initializing';\n    var subscriptionObserver = new SubscriptionObserver(this);\n\n    try {\n      this._cleanup = subscriber.call(undefined, subscriptionObserver);\n    } catch (e) {\n      subscriptionObserver.error(e);\n    }\n\n    if (this._state === 'initializing') this._state = 'ready';\n  }\n\n  _createClass(Subscription, [{\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      if (this._state !== 'closed') {\n        closeSubscription(this);\n        cleanupSubscription(this);\n      }\n    }\n  }, {\n    key: \"closed\",\n    get: function get() {\n      return this._state === 'closed';\n    }\n  }]);\n\n  return Subscription;\n}();\n\nvar SubscriptionObserver =\n/*#__PURE__*/\nfunction () {\n  function SubscriptionObserver(subscription) {\n    _classCallCheck(this, SubscriptionObserver);\n\n    this._subscription = subscription;\n  }\n\n  _createClass(SubscriptionObserver, [{\n    key: \"next\",\n    value: function next(value) {\n      onNotify(this._subscription, 'next', value);\n    }\n  }, {\n    key: \"error\",\n    value: function error(value) {\n      onNotify(this._subscription, 'error', value);\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      onNotify(this._subscription, 'complete');\n    }\n  }, {\n    key: \"closed\",\n    get: function get() {\n      return this._subscription._state === 'closed';\n    }\n  }]);\n\n  return SubscriptionObserver;\n}();\n\nvar Observable =\n/*#__PURE__*/\nfunction () {\n  function Observable(subscriber) {\n    _classCallCheck(this, Observable);\n\n    if (!(this instanceof Observable)) throw new TypeError('Observable cannot be called as a function');\n    if (typeof subscriber !== 'function') throw new TypeError('Observable initializer must be a function');\n    this._subscriber = subscriber;\n  }\n\n  _createClass(Observable, [{\n    key: \"subscribe\",\n    value: function subscribe(observer) {\n      if (typeof observer !== 'object' || observer === null) {\n        observer = {\n          next: observer,\n          error: arguments[1],\n          complete: arguments[2]\n        };\n      }\n\n      return new Subscription(observer, this._subscriber);\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(fn) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        if (typeof fn !== 'function') {\n          reject(new TypeError(fn + ' is not a function'));\n          return;\n        }\n\n        function done() {\n          subscription.unsubscribe();\n          resolve();\n        }\n\n        var subscription = _this.subscribe({\n          next: function next(value) {\n            try {\n              fn(value, done);\n            } catch (e) {\n              reject(e);\n              subscription.unsubscribe();\n            }\n          },\n          error: reject,\n          complete: resolve\n        });\n      });\n    }\n  }, {\n    key: \"map\",\n    value: function map(fn) {\n      var _this2 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        return _this2.subscribe({\n          next: function next(value) {\n            try {\n              value = fn(value);\n            } catch (e) {\n              return observer.error(e);\n            }\n\n            observer.next(value);\n          },\n          error: function error(e) {\n            observer.error(e);\n          },\n          complete: function complete() {\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(fn) {\n      var _this3 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        return _this3.subscribe({\n          next: function next(value) {\n            try {\n              if (!fn(value)) return;\n            } catch (e) {\n              return observer.error(e);\n            }\n\n            observer.next(value);\n          },\n          error: function error(e) {\n            observer.error(e);\n          },\n          complete: function complete() {\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"reduce\",\n    value: function reduce(fn) {\n      var _this4 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      var hasSeed = arguments.length > 1;\n      var hasValue = false;\n      var seed = arguments[1];\n      var acc = seed;\n      return new C(function (observer) {\n        return _this4.subscribe({\n          next: function next(value) {\n            var first = !hasValue;\n            hasValue = true;\n\n            if (!first || hasSeed) {\n              try {\n                acc = fn(acc, value);\n              } catch (e) {\n                return observer.error(e);\n              }\n            } else {\n              acc = value;\n            }\n          },\n          error: function error(e) {\n            observer.error(e);\n          },\n          complete: function complete() {\n            if (!hasValue && !hasSeed) return observer.error(new TypeError('Cannot reduce an empty sequence'));\n            observer.next(acc);\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"concat\",\n    value: function concat() {\n      var _this5 = this;\n\n      for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n        sources[_key] = arguments[_key];\n      }\n\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        var subscription;\n        var index = 0;\n\n        function startNext(next) {\n          subscription = next.subscribe({\n            next: function next(v) {\n              observer.next(v);\n            },\n            error: function error(e) {\n              observer.error(e);\n            },\n            complete: function complete() {\n              if (index === sources.length) {\n                subscription = undefined;\n                observer.complete();\n              } else {\n                startNext(C.from(sources[index++]));\n              }\n            }\n          });\n        }\n\n        startNext(_this5);\n        return function () {\n          if (subscription) {\n            subscription.unsubscribe();\n            subscription = undefined;\n          }\n        };\n      });\n    }\n  }, {\n    key: \"flatMap\",\n    value: function flatMap(fn) {\n      var _this6 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        var subscriptions = [];\n\n        var outer = _this6.subscribe({\n          next: function next(value) {\n            if (fn) {\n              try {\n                value = fn(value);\n              } catch (e) {\n                return observer.error(e);\n              }\n            }\n\n            var inner = C.from(value).subscribe({\n              next: function next(value) {\n                observer.next(value);\n              },\n              error: function error(e) {\n                observer.error(e);\n              },\n              complete: function complete() {\n                var i = subscriptions.indexOf(inner);\n                if (i >= 0) subscriptions.splice(i, 1);\n                completeIfDone();\n              }\n            });\n            subscriptions.push(inner);\n          },\n          error: function error(e) {\n            observer.error(e);\n          },\n          complete: function complete() {\n            completeIfDone();\n          }\n        });\n\n        function completeIfDone() {\n          if (outer.closed && subscriptions.length === 0) observer.complete();\n        }\n\n        return function () {\n          subscriptions.forEach(function (s) {\n            return s.unsubscribe();\n          });\n          outer.unsubscribe();\n        };\n      });\n    }\n  }, {\n    key: SymbolObservable,\n    value: function value() {\n      return this;\n    }\n  }], [{\n    key: \"from\",\n    value: function from(x) {\n      var C = typeof this === 'function' ? this : Observable;\n      if (x == null) throw new TypeError(x + ' is not an object');\n      var method = getMethod(x, SymbolObservable);\n\n      if (method) {\n        var observable = method.call(x);\n        if (Object(observable) !== observable) throw new TypeError(observable + ' is not an object');\n        if (isObservable(observable) && observable.constructor === C) return observable;\n        return new C(function (observer) {\n          return observable.subscribe(observer);\n        });\n      }\n\n      if (hasSymbol('iterator')) {\n        method = getMethod(x, SymbolIterator);\n\n        if (method) {\n          return new C(function (observer) {\n            enqueue(function () {\n              if (observer.closed) return;\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = method.call(x)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var _item = _step.value;\n                  observer.next(_item);\n                  if (observer.closed) return;\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n\n              observer.complete();\n            });\n          });\n        }\n      }\n\n      if (Array.isArray(x)) {\n        return new C(function (observer) {\n          enqueue(function () {\n            if (observer.closed) return;\n\n            for (var i = 0; i < x.length; ++i) {\n              observer.next(x[i]);\n              if (observer.closed) return;\n            }\n\n            observer.complete();\n          });\n        });\n      }\n\n      throw new TypeError(x + ' is not observable');\n    }\n  }, {\n    key: \"of\",\n    value: function of() {\n      for (var _len2 = arguments.length, items = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        items[_key2] = arguments[_key2];\n      }\n\n      var C = typeof this === 'function' ? this : Observable;\n      return new C(function (observer) {\n        enqueue(function () {\n          if (observer.closed) return;\n\n          for (var i = 0; i < items.length; ++i) {\n            observer.next(items[i]);\n            if (observer.closed) return;\n          }\n\n          observer.complete();\n        });\n      });\n    }\n  }, {\n    key: SymbolSpecies,\n    get: function get() {\n      return this;\n    }\n  }]);\n\n  return Observable;\n}();\n\nexports.Observable = Observable;\n\nif (hasSymbols()) {\n  Object.defineProperty(Observable, Symbol('extensions'), {\n    value: {\n      symbol: SymbolObservable,\n      hostReportError: hostReportError\n    },\n    configurable: true\n  });\n}","module.exports = require('./lib/Observable.js').Observable;"],"sourceRoot":""}