{"version":3,"sources":["../node_modules/apollo-cache-inmemory/lib/bundle.esm.js"],"names":["haveWarned","shouldWarn","answer","HeuristicFragmentMatcher","prototype","ensureReady","Promise","resolve","canBypassInit","match","idValue","typeCondition","context","obj","store","get","id","isRootQuery","_a","__typename","hasOwn","IntrospectionFragmentMatcher","options","introspectionQueryResultData","this","possibleTypesMap","parseIntrospectionResult","isReady","bind","implementingTypes","indexOf","introspectionResultData","typeMap","__schema","types","forEach","type","kind","name","possibleTypes","map","implementingType","Object","hasOwnProperty","DepTrackingCache","data","_this","create","depend","dataId","disposable","makeCacheKey","toObject","set","value","dirty","delete","call","clear","replace","newData","keys","defaultNormalizedCacheFactory","seed","StoreReader","_b","_c","cacheKeyRoot","_d","freezeResults","executeStoreQuery","executeSelectionSet","executeSubSelectedArray","query","rootValue","contextValue","variableValues","fragmentMatcher","lookup","JSON","stringify","selectionSet","execContext","field","array","readQueryFromStore","diffQueryAgainstStore","returnPartialData","result","variables","previousResult","rootId","fragmentMatcherFunction","config","queryDefinition","dataIdFromObject","cacheRedirects","execResult","generated","typename","hasMissingFields","missing","length","info","tolerable","complete","defaultFragmentMatcher","mainDefinition","fragments","fragmentMap","finalResult","objectsToMerge","object","handleMissing","push","apply","selections","selection","fieldResult","executeField","fragment","fragmentExecResult","readStoreResult","fieldName","args","resultKey","directives","storeKeyName","fieldValue","resolver","getCacheKey","storeObj","json","readStoreResolver","Array","isArray","combineExecResults","assertSelectionSetForIdValue","execResults","_i","arguments","pop","childResult","item","ObjectCache","WriteError","_super","Error","StoreWriter","writeQueryToStore","writeResultToStore","document","operationDefinition","writeSelectionSetToStore","processedData","e","error","enhancedError","message","stack","enhanceErrorWithDocument","resultFieldKey","writeFieldToStore","isDefered","isClient","some","directive","matches","undefined","fakeContext","storeValue","storeObject","storeFieldName","generatedId","processArrayValue","valueDataId","isGeneratedId","semanticId","isDataProcessed","escapedId","hadTypename","hasTypename","typenameChanged","mergeWithGenerated","generatedKey","realKey","cache","real","madeChanges","key","realValue","newRealValue","index","itemDataId","defaultConfig","_id","addTypename","resultCaching","hasOwn$1","OptimisticCacheLayer","optimisticId","parent","transaction","InMemoryCache","watches","Set","typenameDocumentCache","Map","silenceBroadcast","customResolvers","cacheResolvers","optimisticData","storeWriter","storeReader","maybeBroadcastWatch","c","optimistic","restore","extract","read","transformDocument","write","broadcastWatches","diff","watch","add","evict","reset","removeOptimistic","idToRemove","toReapply","removedCount","layer","layer_1","performTransaction","recordOptimisticTransaction","callback"],"mappings":"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","file":"static/js/nm.apollo-cache-inmemory.656f90e3.chunk.js","sourcesContent":["import { __assign, __extends } from 'tslib';\nimport { ApolloCache } from 'apollo-cache';\nimport { isTest, getQueryDefinition, assign, getDefaultValues, isEqual, getMainDefinition, getFragmentDefinitions, createFragmentMap, shouldInclude, isField, resultKeyNameFromField, isInlineFragment, mergeDeepArray, argumentsObjectFromField, getDirectiveInfoFromField, maybeDeepFreeze, isIdValue, getStoreKeyName, toIdValue, isJsonValue, canUseWeakMap, getOperationDefinition, isProduction, storeKeyNameFromField, addTypenameToDocument } from 'apollo-utilities';\nimport { wrap, KeyTrie } from 'optimism';\nimport { invariant, InvariantError } from 'ts-invariant';\nvar haveWarned = false;\n\nfunction shouldWarn() {\n  var answer = !haveWarned;\n\n  if (!isTest()) {\n    haveWarned = true;\n  }\n\n  return answer;\n}\n\nvar HeuristicFragmentMatcher = function () {\n  function HeuristicFragmentMatcher() {}\n\n  HeuristicFragmentMatcher.prototype.ensureReady = function () {\n    return Promise.resolve();\n  };\n\n  HeuristicFragmentMatcher.prototype.canBypassInit = function () {\n    return true;\n  };\n\n  HeuristicFragmentMatcher.prototype.match = function (idValue, typeCondition, context) {\n    var obj = context.store.get(idValue.id);\n    var isRootQuery = idValue.id === 'ROOT_QUERY';\n\n    if (!obj) {\n      return isRootQuery;\n    }\n\n    var _a = obj.__typename,\n        __typename = _a === void 0 ? isRootQuery && 'Query' : _a;\n\n    if (!__typename) {\n      if (shouldWarn()) {\n        process.env.NODE_ENV === \"production\" || invariant.warn(\"You're using fragments in your queries, but either don't have the addTypename:\\n  true option set in Apollo Client, or you are trying to write a fragment to the store without the __typename.\\n   Please turn on the addTypename option and include __typename when writing fragments so that Apollo Client\\n   can accurately match fragments.\");\n        process.env.NODE_ENV === \"production\" || invariant.warn('Could not find __typename on Fragment ', typeCondition, obj);\n        process.env.NODE_ENV === \"production\" || invariant.warn(\"DEPRECATION WARNING: using fragments without __typename is unsupported behavior \" + \"and will be removed in future versions of Apollo client. You should fix this and set addTypename to true now.\");\n      }\n\n      return 'heuristic';\n    }\n\n    if (__typename === typeCondition) {\n      return true;\n    }\n\n    if (shouldWarn()) {\n      process.env.NODE_ENV === \"production\" || invariant.error('You are using the simple (heuristic) fragment matcher, but your ' + 'queries contain union or interface types. Apollo Client will not be ' + 'able to accurately map fragments. To make this error go away, use ' + 'the `IntrospectionFragmentMatcher` as described in the docs: ' + 'https://www.apollographql.com/docs/react/advanced/fragments.html#fragment-matcher');\n    }\n\n    return 'heuristic';\n  };\n\n  return HeuristicFragmentMatcher;\n}();\n\nvar IntrospectionFragmentMatcher = function () {\n  function IntrospectionFragmentMatcher(options) {\n    if (options && options.introspectionQueryResultData) {\n      this.possibleTypesMap = this.parseIntrospectionResult(options.introspectionQueryResultData);\n      this.isReady = true;\n    } else {\n      this.isReady = false;\n    }\n\n    this.match = this.match.bind(this);\n  }\n\n  IntrospectionFragmentMatcher.prototype.match = function (idValue, typeCondition, context) {\n    process.env.NODE_ENV === \"production\" ? invariant(this.isReady, 2) : invariant(this.isReady, 'FragmentMatcher.match() was called before FragmentMatcher.init()');\n    var obj = context.store.get(idValue.id);\n    var isRootQuery = idValue.id === 'ROOT_QUERY';\n\n    if (!obj) {\n      return isRootQuery;\n    }\n\n    var _a = obj.__typename,\n        __typename = _a === void 0 ? isRootQuery && 'Query' : _a;\n\n    process.env.NODE_ENV === \"production\" ? invariant(__typename, 3) : invariant(__typename, \"Cannot match fragment because __typename property is missing: \" + JSON.stringify(obj));\n\n    if (__typename === typeCondition) {\n      return true;\n    }\n\n    var implementingTypes = this.possibleTypesMap[typeCondition];\n\n    if (__typename && implementingTypes && implementingTypes.indexOf(__typename) > -1) {\n      return true;\n    }\n\n    return false;\n  };\n\n  IntrospectionFragmentMatcher.prototype.parseIntrospectionResult = function (introspectionResultData) {\n    var typeMap = {};\n\n    introspectionResultData.__schema.types.forEach(function (type) {\n      if (type.kind === 'UNION' || type.kind === 'INTERFACE') {\n        typeMap[type.name] = type.possibleTypes.map(function (implementingType) {\n          return implementingType.name;\n        });\n      }\n    });\n\n    return typeMap;\n  };\n\n  return IntrospectionFragmentMatcher;\n}();\n\nvar hasOwn = Object.prototype.hasOwnProperty;\n\nvar DepTrackingCache = function () {\n  function DepTrackingCache(data) {\n    var _this = this;\n\n    if (data === void 0) {\n      data = Object.create(null);\n    }\n\n    this.data = data;\n    this.depend = wrap(function (dataId) {\n      return _this.data[dataId];\n    }, {\n      disposable: true,\n      makeCacheKey: function makeCacheKey(dataId) {\n        return dataId;\n      }\n    });\n  }\n\n  DepTrackingCache.prototype.toObject = function () {\n    return this.data;\n  };\n\n  DepTrackingCache.prototype.get = function (dataId) {\n    this.depend(dataId);\n    return this.data[dataId];\n  };\n\n  DepTrackingCache.prototype.set = function (dataId, value) {\n    var oldValue = this.data[dataId];\n\n    if (value !== oldValue) {\n      this.data[dataId] = value;\n      this.depend.dirty(dataId);\n    }\n  };\n\n  DepTrackingCache.prototype.delete = function (dataId) {\n    if (hasOwn.call(this.data, dataId)) {\n      delete this.data[dataId];\n      this.depend.dirty(dataId);\n    }\n  };\n\n  DepTrackingCache.prototype.clear = function () {\n    this.replace(null);\n  };\n\n  DepTrackingCache.prototype.replace = function (newData) {\n    var _this = this;\n\n    if (newData) {\n      Object.keys(newData).forEach(function (dataId) {\n        _this.set(dataId, newData[dataId]);\n      });\n      Object.keys(this.data).forEach(function (dataId) {\n        if (!hasOwn.call(newData, dataId)) {\n          _this.delete(dataId);\n        }\n      });\n    } else {\n      Object.keys(this.data).forEach(function (dataId) {\n        _this.delete(dataId);\n      });\n    }\n  };\n\n  return DepTrackingCache;\n}();\n\nfunction defaultNormalizedCacheFactory(seed) {\n  return new DepTrackingCache(seed);\n}\n\nvar StoreReader = function () {\n  function StoreReader(_a) {\n    var _this = this;\n\n    var _b = _a === void 0 ? {} : _a,\n        _c = _b.cacheKeyRoot,\n        cacheKeyRoot = _c === void 0 ? new KeyTrie(canUseWeakMap) : _c,\n        _d = _b.freezeResults,\n        freezeResults = _d === void 0 ? false : _d;\n\n    var _e = this,\n        executeStoreQuery = _e.executeStoreQuery,\n        executeSelectionSet = _e.executeSelectionSet,\n        executeSubSelectedArray = _e.executeSubSelectedArray;\n\n    this.freezeResults = freezeResults;\n    this.executeStoreQuery = wrap(function (options) {\n      return executeStoreQuery.call(_this, options);\n    }, {\n      makeCacheKey: function makeCacheKey(_a) {\n        var query = _a.query,\n            rootValue = _a.rootValue,\n            contextValue = _a.contextValue,\n            variableValues = _a.variableValues,\n            fragmentMatcher = _a.fragmentMatcher;\n\n        if (contextValue.store instanceof DepTrackingCache) {\n          return cacheKeyRoot.lookup(contextValue.store, query, fragmentMatcher, JSON.stringify(variableValues), rootValue.id);\n        }\n      }\n    });\n    this.executeSelectionSet = wrap(function (options) {\n      return executeSelectionSet.call(_this, options);\n    }, {\n      makeCacheKey: function makeCacheKey(_a) {\n        var selectionSet = _a.selectionSet,\n            rootValue = _a.rootValue,\n            execContext = _a.execContext;\n\n        if (execContext.contextValue.store instanceof DepTrackingCache) {\n          return cacheKeyRoot.lookup(execContext.contextValue.store, selectionSet, execContext.fragmentMatcher, JSON.stringify(execContext.variableValues), rootValue.id);\n        }\n      }\n    });\n    this.executeSubSelectedArray = wrap(function (options) {\n      return executeSubSelectedArray.call(_this, options);\n    }, {\n      makeCacheKey: function makeCacheKey(_a) {\n        var field = _a.field,\n            array = _a.array,\n            execContext = _a.execContext;\n\n        if (execContext.contextValue.store instanceof DepTrackingCache) {\n          return cacheKeyRoot.lookup(execContext.contextValue.store, field, array, JSON.stringify(execContext.variableValues));\n        }\n      }\n    });\n  }\n\n  StoreReader.prototype.readQueryFromStore = function (options) {\n    return this.diffQueryAgainstStore(__assign(__assign({}, options), {\n      returnPartialData: false\n    })).result;\n  };\n\n  StoreReader.prototype.diffQueryAgainstStore = function (_a) {\n    var store = _a.store,\n        query = _a.query,\n        variables = _a.variables,\n        previousResult = _a.previousResult,\n        _b = _a.returnPartialData,\n        returnPartialData = _b === void 0 ? true : _b,\n        _c = _a.rootId,\n        rootId = _c === void 0 ? 'ROOT_QUERY' : _c,\n        fragmentMatcherFunction = _a.fragmentMatcherFunction,\n        config = _a.config;\n    var queryDefinition = getQueryDefinition(query);\n    variables = assign({}, getDefaultValues(queryDefinition), variables);\n    var context = {\n      store: store,\n      dataIdFromObject: config && config.dataIdFromObject,\n      cacheRedirects: config && config.cacheRedirects || {}\n    };\n    var execResult = this.executeStoreQuery({\n      query: query,\n      rootValue: {\n        type: 'id',\n        id: rootId,\n        generated: true,\n        typename: 'Query'\n      },\n      contextValue: context,\n      variableValues: variables,\n      fragmentMatcher: fragmentMatcherFunction\n    });\n    var hasMissingFields = execResult.missing && execResult.missing.length > 0;\n\n    if (hasMissingFields && !returnPartialData) {\n      execResult.missing.forEach(function (info) {\n        if (info.tolerable) return;\n        throw process.env.NODE_ENV === \"production\" ? new InvariantError(8) : new InvariantError(\"Can't find field \" + info.fieldName + \" on object \" + JSON.stringify(info.object, null, 2) + \".\");\n      });\n    }\n\n    if (previousResult) {\n      if (isEqual(previousResult, execResult.result)) {\n        execResult.result = previousResult;\n      }\n    }\n\n    return {\n      result: execResult.result,\n      complete: !hasMissingFields\n    };\n  };\n\n  StoreReader.prototype.executeStoreQuery = function (_a) {\n    var query = _a.query,\n        rootValue = _a.rootValue,\n        contextValue = _a.contextValue,\n        variableValues = _a.variableValues,\n        _b = _a.fragmentMatcher,\n        fragmentMatcher = _b === void 0 ? defaultFragmentMatcher : _b;\n    var mainDefinition = getMainDefinition(query);\n    var fragments = getFragmentDefinitions(query);\n    var fragmentMap = createFragmentMap(fragments);\n    var execContext = {\n      query: query,\n      fragmentMap: fragmentMap,\n      contextValue: contextValue,\n      variableValues: variableValues,\n      fragmentMatcher: fragmentMatcher\n    };\n    return this.executeSelectionSet({\n      selectionSet: mainDefinition.selectionSet,\n      rootValue: rootValue,\n      execContext: execContext\n    });\n  };\n\n  StoreReader.prototype.executeSelectionSet = function (_a) {\n    var _this = this;\n\n    var selectionSet = _a.selectionSet,\n        rootValue = _a.rootValue,\n        execContext = _a.execContext;\n    var fragmentMap = execContext.fragmentMap,\n        contextValue = execContext.contextValue,\n        variables = execContext.variableValues;\n    var finalResult = {\n      result: null\n    };\n    var objectsToMerge = [];\n    var object = contextValue.store.get(rootValue.id);\n    var typename = object && object.__typename || rootValue.id === 'ROOT_QUERY' && 'Query' || void 0;\n\n    function handleMissing(result) {\n      var _a;\n\n      if (result.missing) {\n        finalResult.missing = finalResult.missing || [];\n\n        (_a = finalResult.missing).push.apply(_a, result.missing);\n      }\n\n      return result.result;\n    }\n\n    selectionSet.selections.forEach(function (selection) {\n      var _a;\n\n      if (!shouldInclude(selection, variables)) {\n        return;\n      }\n\n      if (isField(selection)) {\n        var fieldResult = handleMissing(_this.executeField(object, typename, selection, execContext));\n\n        if (typeof fieldResult !== 'undefined') {\n          objectsToMerge.push((_a = {}, _a[resultKeyNameFromField(selection)] = fieldResult, _a));\n        }\n      } else {\n        var fragment = void 0;\n\n        if (isInlineFragment(selection)) {\n          fragment = selection;\n        } else {\n          fragment = fragmentMap[selection.name.value];\n\n          if (!fragment) {\n            throw process.env.NODE_ENV === \"production\" ? new InvariantError(9) : new InvariantError(\"No fragment named \" + selection.name.value);\n          }\n        }\n\n        var typeCondition = fragment.typeCondition && fragment.typeCondition.name.value;\n        var match = !typeCondition || execContext.fragmentMatcher(rootValue, typeCondition, contextValue);\n\n        if (match) {\n          var fragmentExecResult = _this.executeSelectionSet({\n            selectionSet: fragment.selectionSet,\n            rootValue: rootValue,\n            execContext: execContext\n          });\n\n          if (match === 'heuristic' && fragmentExecResult.missing) {\n            fragmentExecResult = __assign(__assign({}, fragmentExecResult), {\n              missing: fragmentExecResult.missing.map(function (info) {\n                return __assign(__assign({}, info), {\n                  tolerable: true\n                });\n              })\n            });\n          }\n\n          objectsToMerge.push(handleMissing(fragmentExecResult));\n        }\n      }\n    });\n    finalResult.result = mergeDeepArray(objectsToMerge);\n\n    if (this.freezeResults && process.env.NODE_ENV !== 'production') {\n      Object.freeze(finalResult.result);\n    }\n\n    return finalResult;\n  };\n\n  StoreReader.prototype.executeField = function (object, typename, field, execContext) {\n    var variables = execContext.variableValues,\n        contextValue = execContext.contextValue;\n    var fieldName = field.name.value;\n    var args = argumentsObjectFromField(field, variables);\n    var info = {\n      resultKey: resultKeyNameFromField(field),\n      directives: getDirectiveInfoFromField(field, variables)\n    };\n    var readStoreResult = readStoreResolver(object, typename, fieldName, args, contextValue, info);\n\n    if (Array.isArray(readStoreResult.result)) {\n      return this.combineExecResults(readStoreResult, this.executeSubSelectedArray({\n        field: field,\n        array: readStoreResult.result,\n        execContext: execContext\n      }));\n    }\n\n    if (!field.selectionSet) {\n      assertSelectionSetForIdValue(field, readStoreResult.result);\n\n      if (this.freezeResults && process.env.NODE_ENV !== 'production') {\n        maybeDeepFreeze(readStoreResult);\n      }\n\n      return readStoreResult;\n    }\n\n    if (readStoreResult.result == null) {\n      return readStoreResult;\n    }\n\n    return this.combineExecResults(readStoreResult, this.executeSelectionSet({\n      selectionSet: field.selectionSet,\n      rootValue: readStoreResult.result,\n      execContext: execContext\n    }));\n  };\n\n  StoreReader.prototype.combineExecResults = function () {\n    var execResults = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      execResults[_i] = arguments[_i];\n    }\n\n    var missing;\n    execResults.forEach(function (execResult) {\n      if (execResult.missing) {\n        missing = missing || [];\n        missing.push.apply(missing, execResult.missing);\n      }\n    });\n    return {\n      result: execResults.pop().result,\n      missing: missing\n    };\n  };\n\n  StoreReader.prototype.executeSubSelectedArray = function (_a) {\n    var _this = this;\n\n    var field = _a.field,\n        array = _a.array,\n        execContext = _a.execContext;\n    var missing;\n\n    function handleMissing(childResult) {\n      if (childResult.missing) {\n        missing = missing || [];\n        missing.push.apply(missing, childResult.missing);\n      }\n\n      return childResult.result;\n    }\n\n    array = array.map(function (item) {\n      if (item === null) {\n        return null;\n      }\n\n      if (Array.isArray(item)) {\n        return handleMissing(_this.executeSubSelectedArray({\n          field: field,\n          array: item,\n          execContext: execContext\n        }));\n      }\n\n      if (field.selectionSet) {\n        return handleMissing(_this.executeSelectionSet({\n          selectionSet: field.selectionSet,\n          rootValue: item,\n          execContext: execContext\n        }));\n      }\n\n      assertSelectionSetForIdValue(field, item);\n      return item;\n    });\n\n    if (this.freezeResults && process.env.NODE_ENV !== 'production') {\n      Object.freeze(array);\n    }\n\n    return {\n      result: array,\n      missing: missing\n    };\n  };\n\n  return StoreReader;\n}();\n\nfunction assertSelectionSetForIdValue(field, value) {\n  if (!field.selectionSet && isIdValue(value)) {\n    throw process.env.NODE_ENV === \"production\" ? new InvariantError(10) : new InvariantError(\"Missing selection set for object of type \" + value.typename + \" returned for query field \" + field.name.value);\n  }\n}\n\nfunction defaultFragmentMatcher() {\n  return true;\n}\n\nfunction assertIdValue(idValue) {\n  process.env.NODE_ENV === \"production\" ? invariant(isIdValue(idValue), 11) : invariant(isIdValue(idValue), \"Encountered a sub-selection on the query, but the store doesn't have an object reference. This should never happen during normal use unless you have custom code that is directly manipulating the store; please file an issue.\");\n}\n\nfunction readStoreResolver(object, typename, fieldName, args, context, _a) {\n  var resultKey = _a.resultKey,\n      directives = _a.directives;\n  var storeKeyName = fieldName;\n\n  if (args || directives) {\n    storeKeyName = getStoreKeyName(storeKeyName, args, directives);\n  }\n\n  var fieldValue = void 0;\n\n  if (object) {\n    fieldValue = object[storeKeyName];\n\n    if (typeof fieldValue === 'undefined' && context.cacheRedirects && typeof typename === 'string') {\n      var type = context.cacheRedirects[typename];\n\n      if (type) {\n        var resolver = type[fieldName];\n\n        if (resolver) {\n          fieldValue = resolver(object, args, {\n            getCacheKey: function getCacheKey(storeObj) {\n              var id = context.dataIdFromObject(storeObj);\n              return id && toIdValue({\n                id: id,\n                typename: storeObj.__typename\n              });\n            }\n          });\n        }\n      }\n    }\n  }\n\n  if (typeof fieldValue === 'undefined') {\n    return {\n      result: fieldValue,\n      missing: [{\n        object: object,\n        fieldName: storeKeyName,\n        tolerable: false\n      }]\n    };\n  }\n\n  if (isJsonValue(fieldValue)) {\n    fieldValue = fieldValue.json;\n  }\n\n  return {\n    result: fieldValue\n  };\n}\n\nvar ObjectCache = function () {\n  function ObjectCache(data) {\n    if (data === void 0) {\n      data = Object.create(null);\n    }\n\n    this.data = data;\n  }\n\n  ObjectCache.prototype.toObject = function () {\n    return this.data;\n  };\n\n  ObjectCache.prototype.get = function (dataId) {\n    return this.data[dataId];\n  };\n\n  ObjectCache.prototype.set = function (dataId, value) {\n    this.data[dataId] = value;\n  };\n\n  ObjectCache.prototype.delete = function (dataId) {\n    this.data[dataId] = void 0;\n  };\n\n  ObjectCache.prototype.clear = function () {\n    this.data = Object.create(null);\n  };\n\n  ObjectCache.prototype.replace = function (newData) {\n    this.data = newData || Object.create(null);\n  };\n\n  return ObjectCache;\n}();\n\nfunction defaultNormalizedCacheFactory$1(seed) {\n  return new ObjectCache(seed);\n}\n\nvar WriteError = function (_super) {\n  __extends(WriteError, _super);\n\n  function WriteError() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = 'WriteError';\n    return _this;\n  }\n\n  return WriteError;\n}(Error);\n\nfunction enhanceErrorWithDocument(error, document) {\n  var enhancedError = new WriteError(\"Error writing result to store for query:\\n \" + JSON.stringify(document));\n  enhancedError.message += '\\n' + error.message;\n  enhancedError.stack = error.stack;\n  return enhancedError;\n}\n\nvar StoreWriter = function () {\n  function StoreWriter() {}\n\n  StoreWriter.prototype.writeQueryToStore = function (_a) {\n    var query = _a.query,\n        result = _a.result,\n        _b = _a.store,\n        store = _b === void 0 ? defaultNormalizedCacheFactory() : _b,\n        variables = _a.variables,\n        dataIdFromObject = _a.dataIdFromObject,\n        fragmentMatcherFunction = _a.fragmentMatcherFunction;\n    return this.writeResultToStore({\n      dataId: 'ROOT_QUERY',\n      result: result,\n      document: query,\n      store: store,\n      variables: variables,\n      dataIdFromObject: dataIdFromObject,\n      fragmentMatcherFunction: fragmentMatcherFunction\n    });\n  };\n\n  StoreWriter.prototype.writeResultToStore = function (_a) {\n    var dataId = _a.dataId,\n        result = _a.result,\n        document = _a.document,\n        _b = _a.store,\n        store = _b === void 0 ? defaultNormalizedCacheFactory() : _b,\n        variables = _a.variables,\n        dataIdFromObject = _a.dataIdFromObject,\n        fragmentMatcherFunction = _a.fragmentMatcherFunction;\n    var operationDefinition = getOperationDefinition(document);\n\n    try {\n      return this.writeSelectionSetToStore({\n        result: result,\n        dataId: dataId,\n        selectionSet: operationDefinition.selectionSet,\n        context: {\n          store: store,\n          processedData: {},\n          variables: assign({}, getDefaultValues(operationDefinition), variables),\n          dataIdFromObject: dataIdFromObject,\n          fragmentMap: createFragmentMap(getFragmentDefinitions(document)),\n          fragmentMatcherFunction: fragmentMatcherFunction\n        }\n      });\n    } catch (e) {\n      throw enhanceErrorWithDocument(e, document);\n    }\n  };\n\n  StoreWriter.prototype.writeSelectionSetToStore = function (_a) {\n    var _this = this;\n\n    var result = _a.result,\n        dataId = _a.dataId,\n        selectionSet = _a.selectionSet,\n        context = _a.context;\n    var variables = context.variables,\n        store = context.store,\n        fragmentMap = context.fragmentMap;\n    selectionSet.selections.forEach(function (selection) {\n      var _a;\n\n      if (!shouldInclude(selection, variables)) {\n        return;\n      }\n\n      if (isField(selection)) {\n        var resultFieldKey = resultKeyNameFromField(selection);\n        var value = result[resultFieldKey];\n\n        if (typeof value !== 'undefined') {\n          _this.writeFieldToStore({\n            dataId: dataId,\n            value: value,\n            field: selection,\n            context: context\n          });\n        } else {\n          var isDefered = false;\n          var isClient = false;\n\n          if (selection.directives && selection.directives.length) {\n            isDefered = selection.directives.some(function (directive) {\n              return directive.name && directive.name.value === 'defer';\n            });\n            isClient = selection.directives.some(function (directive) {\n              return directive.name && directive.name.value === 'client';\n            });\n          }\n\n          if (!isDefered && !isClient && context.fragmentMatcherFunction) {\n            process.env.NODE_ENV === \"production\" || invariant.warn(\"Missing field \" + resultFieldKey + \" in \" + JSON.stringify(result, null, 2).substring(0, 100));\n          }\n        }\n      } else {\n        var fragment = void 0;\n\n        if (isInlineFragment(selection)) {\n          fragment = selection;\n        } else {\n          fragment = (fragmentMap || {})[selection.name.value];\n          process.env.NODE_ENV === \"production\" ? invariant(fragment, 4) : invariant(fragment, \"No fragment named \" + selection.name.value + \".\");\n        }\n\n        var matches = true;\n\n        if (context.fragmentMatcherFunction && fragment.typeCondition) {\n          var id = dataId || 'self';\n          var idValue = toIdValue({\n            id: id,\n            typename: undefined\n          });\n          var fakeContext = {\n            store: new ObjectCache((_a = {}, _a[id] = result, _a)),\n            cacheRedirects: {}\n          };\n          var match = context.fragmentMatcherFunction(idValue, fragment.typeCondition.name.value, fakeContext);\n\n          if (!isProduction() && match === 'heuristic') {\n            process.env.NODE_ENV === \"production\" || invariant.error('WARNING: heuristic fragment matching going on!');\n          }\n\n          matches = !!match;\n        }\n\n        if (matches) {\n          _this.writeSelectionSetToStore({\n            result: result,\n            selectionSet: fragment.selectionSet,\n            dataId: dataId,\n            context: context\n          });\n        }\n      }\n    });\n    return store;\n  };\n\n  StoreWriter.prototype.writeFieldToStore = function (_a) {\n    var _b;\n\n    var field = _a.field,\n        value = _a.value,\n        dataId = _a.dataId,\n        context = _a.context;\n    var variables = context.variables,\n        dataIdFromObject = context.dataIdFromObject,\n        store = context.store;\n    var storeValue;\n    var storeObject;\n    var storeFieldName = storeKeyNameFromField(field, variables);\n\n    if (!field.selectionSet || value === null) {\n      storeValue = value != null && typeof value === 'object' ? {\n        type: 'json',\n        json: value\n      } : value;\n    } else if (Array.isArray(value)) {\n      var generatedId = dataId + \".\" + storeFieldName;\n      storeValue = this.processArrayValue(value, generatedId, field.selectionSet, context);\n    } else {\n      var valueDataId = dataId + \".\" + storeFieldName;\n      var generated = true;\n\n      if (!isGeneratedId(valueDataId)) {\n        valueDataId = '$' + valueDataId;\n      }\n\n      if (dataIdFromObject) {\n        var semanticId = dataIdFromObject(value);\n        process.env.NODE_ENV === \"production\" ? invariant(!semanticId || !isGeneratedId(semanticId), 5) : invariant(!semanticId || !isGeneratedId(semanticId), 'IDs returned by dataIdFromObject cannot begin with the \"$\" character.');\n\n        if (semanticId || typeof semanticId === 'number' && semanticId === 0) {\n          valueDataId = semanticId;\n          generated = false;\n        }\n      }\n\n      if (!isDataProcessed(valueDataId, field, context.processedData)) {\n        this.writeSelectionSetToStore({\n          dataId: valueDataId,\n          result: value,\n          selectionSet: field.selectionSet,\n          context: context\n        });\n      }\n\n      var typename = value.__typename;\n      storeValue = toIdValue({\n        id: valueDataId,\n        typename: typename\n      }, generated);\n      storeObject = store.get(dataId);\n      var escapedId = storeObject && storeObject[storeFieldName];\n\n      if (escapedId !== storeValue && isIdValue(escapedId)) {\n        var hadTypename = escapedId.typename !== undefined;\n        var hasTypename = typename !== undefined;\n        var typenameChanged = hadTypename && hasTypename && escapedId.typename !== typename;\n        process.env.NODE_ENV === \"production\" ? invariant(!generated || escapedId.generated || typenameChanged, 6) : invariant(!generated || escapedId.generated || typenameChanged, \"Store error: the application attempted to write an object with no provided id but the store already contains an id of \" + escapedId.id + \" for this object. The selectionSet that was trying to be written is:\\n\" + JSON.stringify(field));\n        process.env.NODE_ENV === \"production\" ? invariant(!hadTypename || hasTypename, 7) : invariant(!hadTypename || hasTypename, \"Store error: the application attempted to write an object with no provided typename but the store already contains an object with typename of \" + escapedId.typename + \" for the object of id \" + escapedId.id + \". The selectionSet that was trying to be written is:\\n\" + JSON.stringify(field));\n\n        if (escapedId.generated) {\n          if (typenameChanged) {\n            if (!generated) {\n              store.delete(escapedId.id);\n            }\n          } else {\n            mergeWithGenerated(escapedId.id, storeValue.id, store);\n          }\n        }\n      }\n    }\n\n    storeObject = store.get(dataId);\n\n    if (!storeObject || !isEqual(storeValue, storeObject[storeFieldName])) {\n      store.set(dataId, __assign(__assign({}, storeObject), (_b = {}, _b[storeFieldName] = storeValue, _b)));\n    }\n  };\n\n  StoreWriter.prototype.processArrayValue = function (value, generatedId, selectionSet, context) {\n    var _this = this;\n\n    return value.map(function (item, index) {\n      if (item === null) {\n        return null;\n      }\n\n      var itemDataId = generatedId + \".\" + index;\n\n      if (Array.isArray(item)) {\n        return _this.processArrayValue(item, itemDataId, selectionSet, context);\n      }\n\n      var generated = true;\n\n      if (context.dataIdFromObject) {\n        var semanticId = context.dataIdFromObject(item);\n\n        if (semanticId) {\n          itemDataId = semanticId;\n          generated = false;\n        }\n      }\n\n      if (!isDataProcessed(itemDataId, selectionSet, context.processedData)) {\n        _this.writeSelectionSetToStore({\n          dataId: itemDataId,\n          result: item,\n          selectionSet: selectionSet,\n          context: context\n        });\n      }\n\n      return toIdValue({\n        id: itemDataId,\n        typename: item.__typename\n      }, generated);\n    });\n  };\n\n  return StoreWriter;\n}();\n\nfunction isGeneratedId(id) {\n  return id[0] === '$';\n}\n\nfunction mergeWithGenerated(generatedKey, realKey, cache) {\n  if (generatedKey === realKey) {\n    return false;\n  }\n\n  var generated = cache.get(generatedKey);\n  var real = cache.get(realKey);\n  var madeChanges = false;\n  Object.keys(generated).forEach(function (key) {\n    var value = generated[key];\n    var realValue = real[key];\n\n    if (isIdValue(value) && isGeneratedId(value.id) && isIdValue(realValue) && !isEqual(value, realValue) && mergeWithGenerated(value.id, realValue.id, cache)) {\n      madeChanges = true;\n    }\n  });\n  cache.delete(generatedKey);\n\n  var newRealValue = __assign(__assign({}, generated), real);\n\n  if (isEqual(newRealValue, real)) {\n    return madeChanges;\n  }\n\n  cache.set(realKey, newRealValue);\n  return true;\n}\n\nfunction isDataProcessed(dataId, field, processedData) {\n  if (!processedData) {\n    return false;\n  }\n\n  if (processedData[dataId]) {\n    if (processedData[dataId].indexOf(field) >= 0) {\n      return true;\n    } else {\n      processedData[dataId].push(field);\n    }\n  } else {\n    processedData[dataId] = [field];\n  }\n\n  return false;\n}\n\nvar defaultConfig = {\n  fragmentMatcher: new HeuristicFragmentMatcher(),\n  dataIdFromObject: defaultDataIdFromObject,\n  addTypename: true,\n  resultCaching: true,\n  freezeResults: false\n};\n\nfunction defaultDataIdFromObject(result) {\n  if (result.__typename) {\n    if (result.id !== undefined) {\n      return result.__typename + \":\" + result.id;\n    }\n\n    if (result._id !== undefined) {\n      return result.__typename + \":\" + result._id;\n    }\n  }\n\n  return null;\n}\n\nvar hasOwn$1 = Object.prototype.hasOwnProperty;\n\nvar OptimisticCacheLayer = function (_super) {\n  __extends(OptimisticCacheLayer, _super);\n\n  function OptimisticCacheLayer(optimisticId, parent, transaction) {\n    var _this = _super.call(this, Object.create(null)) || this;\n\n    _this.optimisticId = optimisticId;\n    _this.parent = parent;\n    _this.transaction = transaction;\n    return _this;\n  }\n\n  OptimisticCacheLayer.prototype.toObject = function () {\n    return __assign(__assign({}, this.parent.toObject()), this.data);\n  };\n\n  OptimisticCacheLayer.prototype.get = function (dataId) {\n    return hasOwn$1.call(this.data, dataId) ? this.data[dataId] : this.parent.get(dataId);\n  };\n\n  return OptimisticCacheLayer;\n}(ObjectCache);\n\nvar InMemoryCache = function (_super) {\n  __extends(InMemoryCache, _super);\n\n  function InMemoryCache(config) {\n    if (config === void 0) {\n      config = {};\n    }\n\n    var _this = _super.call(this) || this;\n\n    _this.watches = new Set();\n    _this.typenameDocumentCache = new Map();\n    _this.cacheKeyRoot = new KeyTrie(canUseWeakMap);\n    _this.silenceBroadcast = false;\n    _this.config = __assign(__assign({}, defaultConfig), config);\n\n    if (_this.config.customResolvers) {\n      process.env.NODE_ENV === \"production\" || invariant.warn('customResolvers have been renamed to cacheRedirects. Please update your config as we will be deprecating customResolvers in the next major version.');\n      _this.config.cacheRedirects = _this.config.customResolvers;\n    }\n\n    if (_this.config.cacheResolvers) {\n      process.env.NODE_ENV === \"production\" || invariant.warn('cacheResolvers have been renamed to cacheRedirects. Please update your config as we will be deprecating cacheResolvers in the next major version.');\n      _this.config.cacheRedirects = _this.config.cacheResolvers;\n    }\n\n    _this.addTypename = !!_this.config.addTypename;\n    _this.data = _this.config.resultCaching ? new DepTrackingCache() : new ObjectCache();\n    _this.optimisticData = _this.data;\n    _this.storeWriter = new StoreWriter();\n    _this.storeReader = new StoreReader({\n      cacheKeyRoot: _this.cacheKeyRoot,\n      freezeResults: config.freezeResults\n    });\n    var cache = _this;\n    var maybeBroadcastWatch = cache.maybeBroadcastWatch;\n    _this.maybeBroadcastWatch = wrap(function (c) {\n      return maybeBroadcastWatch.call(_this, c);\n    }, {\n      makeCacheKey: function makeCacheKey(c) {\n        if (c.optimistic) {\n          return;\n        }\n\n        if (c.previousResult) {\n          return;\n        }\n\n        if (cache.data instanceof DepTrackingCache) {\n          return cache.cacheKeyRoot.lookup(c.query, JSON.stringify(c.variables));\n        }\n      }\n    });\n    return _this;\n  }\n\n  InMemoryCache.prototype.restore = function (data) {\n    if (data) this.data.replace(data);\n    return this;\n  };\n\n  InMemoryCache.prototype.extract = function (optimistic) {\n    if (optimistic === void 0) {\n      optimistic = false;\n    }\n\n    return (optimistic ? this.optimisticData : this.data).toObject();\n  };\n\n  InMemoryCache.prototype.read = function (options) {\n    if (typeof options.rootId === 'string' && typeof this.data.get(options.rootId) === 'undefined') {\n      return null;\n    }\n\n    var fragmentMatcher = this.config.fragmentMatcher;\n    var fragmentMatcherFunction = fragmentMatcher && fragmentMatcher.match;\n    return this.storeReader.readQueryFromStore({\n      store: options.optimistic ? this.optimisticData : this.data,\n      query: this.transformDocument(options.query),\n      variables: options.variables,\n      rootId: options.rootId,\n      fragmentMatcherFunction: fragmentMatcherFunction,\n      previousResult: options.previousResult,\n      config: this.config\n    }) || null;\n  };\n\n  InMemoryCache.prototype.write = function (write) {\n    var fragmentMatcher = this.config.fragmentMatcher;\n    var fragmentMatcherFunction = fragmentMatcher && fragmentMatcher.match;\n    this.storeWriter.writeResultToStore({\n      dataId: write.dataId,\n      result: write.result,\n      variables: write.variables,\n      document: this.transformDocument(write.query),\n      store: this.data,\n      dataIdFromObject: this.config.dataIdFromObject,\n      fragmentMatcherFunction: fragmentMatcherFunction\n    });\n    this.broadcastWatches();\n  };\n\n  InMemoryCache.prototype.diff = function (query) {\n    var fragmentMatcher = this.config.fragmentMatcher;\n    var fragmentMatcherFunction = fragmentMatcher && fragmentMatcher.match;\n    return this.storeReader.diffQueryAgainstStore({\n      store: query.optimistic ? this.optimisticData : this.data,\n      query: this.transformDocument(query.query),\n      variables: query.variables,\n      returnPartialData: query.returnPartialData,\n      previousResult: query.previousResult,\n      fragmentMatcherFunction: fragmentMatcherFunction,\n      config: this.config\n    });\n  };\n\n  InMemoryCache.prototype.watch = function (watch) {\n    var _this = this;\n\n    this.watches.add(watch);\n    return function () {\n      _this.watches.delete(watch);\n    };\n  };\n\n  InMemoryCache.prototype.evict = function (query) {\n    throw process.env.NODE_ENV === \"production\" ? new InvariantError(1) : new InvariantError(\"eviction is not implemented on InMemory Cache\");\n  };\n\n  InMemoryCache.prototype.reset = function () {\n    this.data.clear();\n    this.broadcastWatches();\n    return Promise.resolve();\n  };\n\n  InMemoryCache.prototype.removeOptimistic = function (idToRemove) {\n    var toReapply = [];\n    var removedCount = 0;\n    var layer = this.optimisticData;\n\n    while (layer instanceof OptimisticCacheLayer) {\n      if (layer.optimisticId === idToRemove) {\n        ++removedCount;\n      } else {\n        toReapply.push(layer);\n      }\n\n      layer = layer.parent;\n    }\n\n    if (removedCount > 0) {\n      this.optimisticData = layer;\n\n      while (toReapply.length > 0) {\n        var layer_1 = toReapply.pop();\n        this.performTransaction(layer_1.transaction, layer_1.optimisticId);\n      }\n\n      this.broadcastWatches();\n    }\n  };\n\n  InMemoryCache.prototype.performTransaction = function (transaction, optimisticId) {\n    var _a = this,\n        data = _a.data,\n        silenceBroadcast = _a.silenceBroadcast;\n\n    this.silenceBroadcast = true;\n\n    if (typeof optimisticId === 'string') {\n      this.data = this.optimisticData = new OptimisticCacheLayer(optimisticId, this.optimisticData, transaction);\n    }\n\n    try {\n      transaction(this);\n    } finally {\n      this.silenceBroadcast = silenceBroadcast;\n      this.data = data;\n    }\n\n    this.broadcastWatches();\n  };\n\n  InMemoryCache.prototype.recordOptimisticTransaction = function (transaction, id) {\n    return this.performTransaction(transaction, id);\n  };\n\n  InMemoryCache.prototype.transformDocument = function (document) {\n    if (this.addTypename) {\n      var result = this.typenameDocumentCache.get(document);\n\n      if (!result) {\n        result = addTypenameToDocument(document);\n        this.typenameDocumentCache.set(document, result);\n        this.typenameDocumentCache.set(result, result);\n      }\n\n      return result;\n    }\n\n    return document;\n  };\n\n  InMemoryCache.prototype.broadcastWatches = function () {\n    var _this = this;\n\n    if (!this.silenceBroadcast) {\n      this.watches.forEach(function (c) {\n        return _this.maybeBroadcastWatch(c);\n      });\n    }\n  };\n\n  InMemoryCache.prototype.maybeBroadcastWatch = function (c) {\n    c.callback(this.diff({\n      query: c.query,\n      variables: c.variables,\n      previousResult: c.previousResult && c.previousResult(),\n      optimistic: c.optimistic\n    }));\n  };\n\n  return InMemoryCache;\n}(ApolloCache);\n\nexport { HeuristicFragmentMatcher, InMemoryCache, IntrospectionFragmentMatcher, ObjectCache, StoreReader, StoreWriter, WriteError, assertIdValue, defaultDataIdFromObject, defaultNormalizedCacheFactory$1 as defaultNormalizedCacheFactory, enhanceErrorWithDocument };"],"sourceRoot":""}